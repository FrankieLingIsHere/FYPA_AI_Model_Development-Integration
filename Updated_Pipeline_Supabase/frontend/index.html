<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PPE Safety Monitor - AI-Powered Workplace Safety</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Navigation -->
    <!-- Sidebar Navigation -->
    <nav class="sidebar">

        <!-- Header -->
        <a href="#home" class="sidebar-header" style="text-decoration: none; color: inherit; cursor: pointer;">
            <i class="fas fa-hard-hat sidebar-logo"></i>
            <span class="sidebar-title">CASM</span>
        </a>

        <!-- Main navigation -->
        <ul class="sidebar-menu sidebar-main">
            <li>
                <a href="#home" class="sidebar-link active" data-page="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="#live" class="sidebar-link" data-page="live">
                    <i class="fas fa-video"></i>
                    <span>Live Monitor</span>
                </a>
            </li>
            <li>
                <a href="#reports" class="sidebar-link" data-page="reports">
                    <i class="fas fa-file-alt"></i>
                    <span>Reports</span>
                </a>
            </li>
            <li>
                <a href="#analytics" class="sidebar-link" data-page="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </a>
            </li>
        </ul>

        <!-- Bottom section -->
        <div class="sidebar-bottom">
            <a class="sidebar-link" id="openHandbook">
                <i class="fas fa-book"></i>
                <span>Manual Handbook</span>
            </a>
            <a href="#about" class="sidebar-link" data-page="about">
                <i class="fas fa-info-circle"></i>
                <span>About</span>
            </a>

            <!-- Custom Timezone Dropdown -->
            <div id="timezoneDropdown" class="tz-dropdown">
                <div class="tz-selected">
                    <i class="fas fa-globe tz-icon"></i>
                    <span class="tz-text" id="selectedTimezoneText">Timezone</span>
                    <i class="fas fa-chevron-down tz-arrow"></i>
                </div>
                <div class="tz-options" id="timezoneOptions">
                    <!-- Options populated by JS -->
                </div>
            </div>

            <button id="enableVoice" class="btn btn-danger sidebar-voice-btn">
                ðŸ”Š <span>Voice Alerts</span>
            </button>
        </div>

    </nav>



    <!-- Main Content Area -->
    <main id="app" class="main-content">
        <!-- Pages will be dynamically loaded here -->
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 PPE Safety Monitor. AI-Powered Workplace Safety System.</p>
            <p class="footer-tech">
                Powered by YOLOv8 â€¢ LLaVA â€¢ Llama3 â€¢ Computer Vision
            </p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/static/js/config.js"></script>
    <script src="/static/js/timezone.js"></script>
    <script src="/static/js/notifications.js"></script>
    <script src="/static/js/audioAlert.js"></script>
    <script src="/static/js/violation-monitor.js"></script>
    <script src="/static/js/api.js"></script>
    <script src="/static/js/router.js"></script>
    <script src="/static/js/pages/home.js"></script>
    <script src="/static/js/pages/live.js"></script>
    <script src="/static/js/pages/reports.js"></script>
    <script src="/static/js/pages/analytics.js"></script>
    <script src="/static/js/pages/about.js"></script>
    <script src="/static/js/app.js"></script>


    <!-- Manual Handbook Modal -->
    <div id="handbookModal" class="handbook-overlay hidden">
        <div class="handbook-modal">

            <!-- Header -->
            <div class="handbook-header">
                <h2><i class="fas fa-book"></i> CASM Safety Manual</h2>
                <button id="closeHandbook" class="handbook-close">&times;</button>
            </div>

            <!-- Body -->
            <div class="handbook-body">

                <!-- Navigation -->
                <div class="handbook-nav">
                    <button class="handbook-link active" data-page="intro"><i class="fas fa-home"></i>
                        Introduction</button>
                    <button class="handbook-link" data-page="ppe"><i class="fas fa-hard-hat"></i> PPE
                        Guidelines</button>
                    <button class="handbook-link" data-page="live"><i class="fas fa-video"></i> Live Monitoring</button>
                    <button class="handbook-link" data-page="upload"><i class="fas fa-upload"></i> Image
                        Analysis</button>
                    <button class="handbook-link" data-page="reports"><i class="fas fa-file-alt"></i> Reports</button>
                    <button class="handbook-link" data-page="alerts"><i class="fas fa-bell"></i> Voice Alerts</button>
                    <button class="handbook-link" data-page="faq"><i class="fas fa-question-circle"></i> FAQ</button>
                </div>

                <!-- Content -->
                <div class="handbook-content">

                    <!-- Introduction Page -->
                    <div class="handbook-page active" id="handbook-intro">
                        <h3><i class="fas fa-shield-alt" style="color: var(--primary-color);"></i> Welcome to CASM</h3>
                        <p style="font-size: 1.05rem; line-height: 1.8; margin-bottom: 1.5rem;">
                            <strong>CASM (Construction AI Safety Monitor)</strong> is an AI-powered workplace safety
                            system designed to detect Personal Protective Equipment (PPE) violations in real-time. Our
                            system helps ensure worker safety on construction sites, factories, and industrial
                            environments.
                        </p>

                        <div class="grid grid-2" style="gap: 1rem; margin-bottom: 1.5rem;">
                            <div
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.25rem; border-radius: 12px;">
                                <i class="fas fa-eye" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <h4 style="margin: 0.5rem 0;">Real-Time Detection</h4>
                                <p style="font-size: 0.9rem; opacity: 0.9; margin: 0;">YOLOv8 model processes video at
                                    30+ FPS for instant violation detection</p>
                            </div>
                            <div
                                style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 1.25rem; border-radius: 12px;">
                                <i class="fas fa-robot" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <h4 style="margin: 0.5rem 0;">AI-Powered Reports</h4>
                                <p style="font-size: 0.9rem; opacity: 0.9; margin: 0;">LLaVA + Llama3 generate detailed,
                                    contextual safety reports</p>
                            </div>
                            <div
                                style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 1.25rem; border-radius: 12px;">
                                <i class="fas fa-cloud" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <h4 style="margin: 0.5rem 0;">Cloud Storage</h4>
                                <p style="font-size: 0.9rem; opacity: 0.9; margin: 0;">Supabase backend stores all
                                    reports and images securely</p>
                            </div>
                            <div
                                style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; padding: 1.25rem; border-radius: 12px;">
                                <i class="fas fa-volume-up" style="font-size: 1.5rem; margin-bottom: 0.5rem;"></i>
                                <h4 style="margin: 0.5rem 0;">Voice Alerts</h4>
                                <p style="font-size: 0.9rem; opacity: 0.9; margin: 0;">Audible warnings for immediate
                                    violation awareness</p>
                            </div>
                        </div>

                        <div
                            style="background: var(--background-color); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--primary-color);">
                            <h4 style="margin: 0 0 0.5rem 0;"><i class="fas fa-lightbulb"
                                    style="color: var(--warning-color);"></i> Quick Start</h4>
                            <p style="margin: 0; font-size: 0.95rem;">
                                Navigate to <strong>Live Monitor</strong> and click <strong>Start</strong> to begin
                                real-time PPE detection, or use <strong>Image Analysis</strong> to analyze uploaded
                                photos.
                            </p>
                        </div>
                    </div>

                    <!-- PPE Guidelines Page -->
                    <div class="handbook-page" id="handbook-ppe">
                        <h3><i class="fas fa-hard-hat" style="color: var(--primary-color);"></i> PPE Detection Classes
                        </h3>
                        <p style="margin-bottom: 1rem;">Our YOLOv8 model is trained to detect <strong>14 distinct
                                classes</strong> of PPE compliance:</p>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                            <!-- Compliant PPE -->
                            <div>
                                <h4 style="color: var(--success-color); margin-bottom: 0.75rem;"><i
                                        class="fas fa-check-circle"></i> Compliant (PPE Worn)</h4>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    <div class="ppe-item compliant"><i class="fas fa-hard-hat"></i> Hardhat</div>
                                    <div class="ppe-item compliant"><i class="fas fa-vest"></i> Safety Vest</div>
                                    <div class="ppe-item compliant"><i class="fas fa-head-side-mask"></i> Mask</div>
                                    <div class="ppe-item compliant"><i class="fas fa-mitten"></i> Gloves</div>
                                    <div class="ppe-item compliant"><i class="fas fa-glasses"></i> Goggles</div>
                                    <div class="ppe-item compliant"><i class="fas fa-shoe-prints"></i> Safety Shoes
                                    </div>
                                </div>
                            </div>

                            <!-- Violations -->
                            <div>
                                <h4 style="color: var(--error-color); margin-bottom: 0.75rem;"><i
                                        class="fas fa-times-circle"></i> Violations (PPE Missing)</h4>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    <div class="ppe-item violation"><i class="fas fa-hard-hat"></i> NO-Hardhat</div>
                                    <div class="ppe-item violation"><i class="fas fa-vest"></i> NO-Safety Vest</div>
                                    <div class="ppe-item violation"><i class="fas fa-head-side-mask"></i> NO-Mask</div>
                                    <div class="ppe-item violation"><i class="fas fa-mitten"></i> NO-Gloves</div>
                                    <div class="ppe-item violation"><i class="fas fa-glasses"></i> NO-Goggles</div>
                                    <div class="ppe-item violation"><i class="fas fa-shoe-prints"></i> NO-Safety Shoes
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div
                            style="background: #fff3cd; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--warning-color);">
                            <h4 style="margin: 0 0 0.5rem 0; color: #856404;"><i
                                    class="fas fa-exclamation-triangle"></i> Additional Detection</h4>
                            <p style="margin: 0; font-size: 0.95rem; color: #856404;">
                                The system also detects <strong>Person</strong> and <strong>Machinery</strong> to
                                provide context about the work environment and potential hazards.
                            </p>
                        </div>
                    </div>

                    <!-- Live Monitoring Page -->
                    <div class="handbook-page" id="handbook-live">
                        <h3><i class="fas fa-video" style="color: var(--primary-color);"></i> Live Monitoring</h3>
                        <p style="margin-bottom: 1rem;">Real-time PPE detection using your webcam or connected camera.
                        </p>

                        <img src="/static/images/handbook-live.png" alt="Live Monitor Interface"
                            style="width: 100%; border-radius: 8px; margin-bottom: 1rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">

                        <h4 style="margin-bottom: 0.75rem;"><i class="fas fa-list-ol"
                                style="color: var(--secondary-color);"></i> How to Use</h4>
                        <ol style="margin-left: 1.25rem; line-height: 2; margin-bottom: 1rem;">
                            <li>Navigate to the <strong>Live Monitor</strong> page from the sidebar</li>
                            <li>Click the green <strong>Start</strong> button to activate your camera</li>
                            <li>Position the camera to view the work area</li>
                            <li>The system will automatically detect PPE and highlight violations</li>
                            <li>Violations are captured and queued for report generation</li>
                            <li>Click <strong>Stop</strong> when monitoring is complete</li>
                        </ol>

                        <div
                            style="text-align: center; padding: 1rem; background: var(--background-color); border-radius: 8px;">
                            <div style="font-size: 1.5rem; color: var(--primary-color); font-weight: bold;">Smart</div>
                            <div style="font-size: 0.85rem; color: #7f8c8d;">Detection Logic</div>
                        </div>
                        <div
                            style="text-align: center; padding: 1rem; background: var(--background-color); border-radius: 8px;">
                            <div style="font-size: 1.5rem; color: var(--success-color); font-weight: bold;">95%+
                            </div>
                            <div style="font-size: 0.85rem; color: #7f8c8d;">Detection Accuracy</div>
                        </div>
                        <div
                            style="text-align: center; padding: 1rem; background: var(--background-color); border-radius: 8px;">
                            <div style="font-size: 1.5rem; color: var(--secondary-color); font-weight: bold;">Auto</div>
                            <div style="font-size: 0.85rem; color: #7f8c8d;">Scene Refresh</div>
                        </div>
                    </div>

                    <div
                        style="background: #e8f4fd; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--info-color); margin-bottom: 1rem;">
                        <h4 style="margin: 0 0 0.5rem 0; color: var(--info-color);"><i class="fas fa-brain"></i> Smart
                            Detection</h4>
                        <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
                            The system uses <strong>Smart Detection</strong> to avoid duplicate reports. It only
                            captures a new violation when:
                        <ul style="margin: 0.5rem 0 0 1.25rem;">
                            <li>A <strong>new violation type</strong> is detected</li>
                            <li>A <strong>new person</strong> enters the frame</li>
                            <li>There is significant <strong>movement</strong> (>15%)</li>
                            <li>The scene automatically refreshes every 30 seconds</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Image Analysis Page -->
                <div class="handbook-page" id="handbook-upload">
                    <h3><i class="fas fa-upload" style="color: var(--primary-color);"></i> Image Analysis</h3>
                    <p style="margin-bottom: 1rem;">Upload photos for PPE compliance analysis without using a live
                        camera feed.</p>

                    <h4 style="margin-bottom: 0.75rem;"><i class="fas fa-list-ol"
                            style="color: var(--secondary-color);"></i> How to Use</h4>
                    <ol style="margin-left: 1.25rem; line-height: 2; margin-bottom: 1rem;">
                        <li>Go to <strong>Live Monitor</strong> â†’ Click <strong>Analyze Image</strong> tab</li>
                        <li>Drag and drop an image or click to browse files</li>
                        <li>Supported formats: <strong>JPG, PNG</strong> (max 10MB)</li>
                        <li>Click <strong>Analyze for PPE Violations</strong></li>
                        <li>View detection results with annotated bounding boxes</li>
                        <li>If violations are found, a report is generated automatically</li>
                    </ol>

                    <div
                        style="background: #e8f4fd; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--primary-color); margin-bottom: 1.5rem;">
                        <h5 style="margin: 0 0 0.5rem 0; color: var(--primary-color);"><i class="fas fa-lightbulb"></i>
                            Why Use This Feature?</h5>
                        <p style="margin: 0; font-size: 0.95rem; line-height: 1.6;">
                            The Image Analysis tool is essential for <strong>auditing historical data</strong> or
                            testing photos taken from other devices (e.g., phone cameras, drones) without needing a live
                            camera feed. This allows safety managers to process evidence collected off-site or
                            retroactively.
                        </p>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div
                            style="background: rgba(46, 204, 113, 0.1); padding: 1rem; border-radius: 8px; border: 1px solid var(--success-color);">
                            <h5 style="margin: 0 0 0.5rem 0; color: var(--success-color);"><i class="fas fa-check"></i>
                                Best Practices</h5>
                            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.9rem; line-height: 1.8;">
                                <li>Use well-lit, clear images</li>
                                <li>Include full body shots of workers</li>
                                <li><strong>Note:</strong> Uploads bypass "Smart Detection" checks to ensure immediate
                                    analysis.</li>
                            </ul>
                        </div>
                        <div
                            style="background: rgba(231, 76, 60, 0.1); padding: 1rem; border-radius: 8px; border: 1px solid var(--error-color);">
                            <h5 style="margin: 0 0 0.5rem 0; color: var(--error-color);"><i class="fas fa-times"></i>
                                Avoid</h5>
                            <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.9rem; line-height: 1.8;">
                                <li>Very low resolution images</li>
                                <li>Heavily cropped photos</li>
                                <li>Images with extreme angles</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Reports Page -->
                <div class="handbook-page" id="handbook-reports">
                    <h3><i class="fas fa-file-alt" style="color: var(--primary-color);"></i> Understanding Reports
                    </h3>
                    <p style="margin-bottom: 1rem;">Each violation generates a comprehensive safety report with
                        AI-powered analysis.</p>

                    <h4 style="margin-bottom: 0.75rem;"><i class="fas fa-cogs"
                            style="color: var(--secondary-color);"></i> Report Generation Pipeline</h4>
                    <div
                        style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
                        <div class="pipeline-step">
                            <i class="fas fa-camera"></i>
                            <span>Capture</span>
                        </div>
                        <i class="fas fa-arrow-right" style="color: #bdc3c7;"></i>
                        <div class="pipeline-step">
                            <i class="fas fa-search"></i>
                            <span>YOLO Detection</span>
                        </div>
                        <i class="fas fa-arrow-right" style="color: #bdc3c7;"></i>
                        <div class="pipeline-step">
                            <i class="fas fa-image"></i>
                            <span>LLaVA Caption</span>
                        </div>
                        <i class="fas fa-arrow-right" style="color: #bdc3c7;"></i>
                        <div class="pipeline-step">
                            <i class="fas fa-robot"></i>
                            <span>Llama3 Report</span>
                        </div>
                        <i class="fas fa-arrow-right" style="color: #bdc3c7;"></i>
                        <div class="pipeline-step">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Supabase Storage</span>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 0.75rem;"><i class="fas fa-list"
                            style="color: var(--secondary-color);"></i> Report Contents</h4>
                    <ul style="margin-left: 1.25rem; line-height: 2; margin-bottom: 1rem;">
                        <li><strong>Original Image</strong> - The captured frame at the time of violation</li>
                        <li><strong>Annotated Image</strong> - Bounding boxes showing all detected objects</li>
                        <li><strong>AI Caption</strong> - LLaVA-generated description of the scene</li>
                        <li><strong>NLP Analysis</strong> - Llama3-generated safety assessment and recommendations
                        </li>
                        <li><strong>Metadata</strong> - Timestamp, severity, location, detection counts</li>
                    </ul>

                    <h4 style="margin-bottom: 0.75rem;"><i class="fas fa-traffic-light"
                            style="color: var(--secondary-color);"></i> Report Status</h4>
                    <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                        <span class="badge badge-warning" style="padding: 0.5rem 1rem;"><i class="fas fa-clock"></i>
                            Pending</span>
                        <span class="badge badge-info" style="padding: 0.5rem 1rem;"><i class="fas fa-spinner"></i>
                            Generating</span>
                        <span class="badge badge-success" style="padding: 0.5rem 1rem;"><i class="fas fa-check"></i>
                            Completed</span>
                        <span class="badge badge-danger" style="padding: 0.5rem 1rem;"><i class="fas fa-times"></i>
                            Failed</span>
                    </div>
                </div>

                <!-- Voice Alerts Page -->
                <div class="handbook-page" id="handbook-alerts">
                    <h3><i class="fas fa-bell" style="color: var(--primary-color);"></i> Voice Alerts</h3>
                    <p style="margin-bottom: 1rem;">Audio notifications provide immediate awareness of PPE
                        violations.</p>

                    <div
                        style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem; padding: 1rem; background: var(--background-color); border-radius: 8px;">
                        <div
                            style="width: 60px; height: 60px; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-volume-up" style="font-size: 1.5rem; color: white;"></i>
                        </div>
                        <div>
                            <h4 style="margin: 0 0 0.25rem 0;">Enable Voice Alerts</h4>
                            <p style="margin: 0; font-size: 0.9rem; color: #7f8c8d;">
                                Click the <strong>ðŸ”Š Voice Alerts</strong> button in the sidebar to toggle audio
                                notifications on/off.
                            </p>
                        </div>
                    </div>

                    <h4 style="margin-bottom: 0.75rem;"><i class="fas fa-list"
                            style="color: var(--secondary-color);"></i> Alert Types</h4>
                    <div style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1rem;">
                        <div
                            style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: rgba(231, 76, 60, 0.1); border-radius: 8px; border-left: 4px solid var(--error-color);">
                            <i class="fas fa-exclamation-circle"
                                style="font-size: 1.25rem; color: var(--error-color);"></i>
                            <div>
                                <strong style="color: var(--error-color);">Violation Alert</strong>
                                <p style="margin: 0; font-size: 0.9rem;">Plays when a PPE violation is detected
                                    (e.g., "Warning! Hardhat violation detected")</p>
                            </div>
                        </div>
                        <div
                            style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: rgba(46, 204, 113, 0.1); border-radius: 8px; border-left: 4px solid var(--success-color);">
                            <i class="fas fa-check-circle" style="font-size: 1.25rem; color: var(--success-color);"></i>
                            <div>
                                <strong style="color: var(--success-color);">Compliance Confirmation</strong>
                                <p style="margin: 0; font-size: 0.9rem;">Confirms when all workers are properly
                                    equipped (optional)</p>
                            </div>
                        </div>
                    </div>

                    <div
                        style="background: #fff3cd; padding: 1rem; border-radius: 8px; border-left: 4px solid var(--warning-color);">
                        <h4 style="margin: 0 0 0.5rem 0; color: #856404;"><i class="fas fa-volume-mute"></i> Note
                        </h4>
                        <p style="margin: 0; font-size: 0.95rem; color: #856404;">
                            Voice alerts require browser audio permissions. If you don't hear alerts, check your
                            browser settings and ensure the system volume is turned up.
                        </p>
                    </div>
                </div>

                <!-- FAQ Page -->
                <div class="handbook-page" id="handbook-faq">
                    <h3><i class="fas fa-question-circle" style="color: var(--primary-color);"></i> Frequently Asked
                        Questions</h3>
                    <p style="margin-bottom: 1rem;">Click on a question to expand the answer.</p>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>What PPE does the system detect?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">The system detects 14 classes: Hardhat, Safety Vest,
                                Mask, Gloves, Goggles, Safety Shoes, and their corresponding "NO-" violation classes
                                (e.g., NO-Hardhat). It also detects Person and Machinery for context.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>How accurate is the detection?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">The YOLOv8 model achieves 95%+ accuracy on our test
                                dataset. Real-world accuracy may vary based on lighting conditions, camera quality,
                                and distance from subjects. The default confidence threshold is 10% to maximize
                                detection sensitivity.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Can I disable voice alerts?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">Yes! Click the <strong>ðŸ”Š Voice Alerts</strong> button
                                in the sidebar to toggle audio notifications on/off. The button will change color to
                                indicate the current state.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Why are some reports showing "Generating..."?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">Report generation involves multiple AI models (LLaVA
                                for image captioning, Llama3 for NLP analysis) and can take 30-60 seconds per
                                report. Violations are queued and processed one at a time to prevent GPU memory
                                exhaustion. Check the Processing Queue Status on the Live Monitor page.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>What is Environment Validation?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">When enabled, the system uses AI to verify that
                                violations occur in valid work environments (construction sites, factories,
                                warehouses). Non-work environments (homes, offices, parks) are skipped to reduce
                                false positives. Disable this for testing purposes.</p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>How do I adjust the capture cooldown?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">Go to <strong>Live Monitor</strong> â†’
                                <strong>Processing Settings</strong> tab. Use the slider to adjust the cooldown
                                between 1-30 seconds. Lower values capture more violations, higher values prevent
                                duplicate captures of the same scene.
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>Where are reports stored?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">Reports are stored in two places: locally in the
                                <code>pipeline/violations/</code> directory, and in the cloud via Supabase. The
                                Supabase backend ensures reports are accessible from anywhere and provides secure
                                storage for images and HTML reports.
                            </p>
                        </div>
                    </div>

                    <div class="faq-item">
                        <div class="faq-question">
                            <span>The camera isn't working. What should I do?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            <p style="padding-top: 0.75rem;">Check the following:</p>
                            <ul style="margin-top: 0.5rem; padding-left: 1.25rem; line-height: 1.8;">
                                <li>Ensure your browser has camera permissions for localhost:5000</li>
                                <li>Close other applications that may be using the camera</li>
                                <li>Try refreshing the page or restarting the server</li>
                                <li>Check that your webcam is properly connected</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    </div>




</body>

</html>